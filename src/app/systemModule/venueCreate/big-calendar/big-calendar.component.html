<div class="tiny-calendar-wrapper big-calendar-wrapper">
    <div class=top-calendar-nav>
        <div class="arrow arrow-left" (click)="prevMonth()"></div>
        <div class="month">
            <p (click)="prevMonth()">{{MonthPrev.format('MMM')}} {{ MonthPrev.format('YYYY') }}</p>
        </div>
        <div class="month">
            <p class="active">{{ currentDate.format('MMM') }} {{ currentDate.format('YYYY') }}</p>
        </div>
        <div class="month">
            <p (click)="nextMonth()">{{MonthNext.format('MMM')}} {{ MonthNext.format('YYYY') }}</p>
        </div>
        <div class="arrow arrow-right" (click)="nextMonth()"></div>
    </div>
    <div class="body-calendar">
        <div class="weekday-wrapp">
            <div *ngFor="let name of dayNames" class="one-week-day">
                {{ name }}
            </div>
        </div>
        <!--"set-date-popup" добавляем класс если пикнули-->
        <div class="days jsDays-wrapp">
            <ng-container *ngFor="let week of weeks">
                <ng-container *ngFor="let day of week">
                    <!--"pickedday" добавляем класс нужному "one-day-wr" если пикнули-->
                    <!--"changed-price"добавляем класс нужному "one-day-wr" была изменина любая из цен-->
                    <div
                        class="one-day-wr"
                        [ngClass]="
                            {
                                'today': day.today,
                                'un-active': day.selected,
                                'has-popup' :day.event ,
                                'not-active-month': !isSelectedMonth(day.mDate),
                                'changed-price': day.changed
                            }
                        "
                        
                        (mousedown)="StartRangeEvent($event,day)"
                        (mouseup)="EndRangeEvent($event,day)"
                        (mouseenter)="MoveForRange($event,day)"
                    >
                        <!--(click)="selectDate(day)"-->    
                        <!--дата-->
                        <div class="one-day">
                            <p>{{ day.mDate.date() }}</p>
                        </div>
                        <!--/дата-->
                        <!--event pupup-->
                        <div *ngIf="day.event" class="popup-inform-tiny-calendar">
                            <ng-container *ngFor="let event of eventsThisMonth">
                                <ng-container *ngIf="day.eventId == event.id">
                                    <div class="shadow-wr">
                                        <ng-container *ngFor="let image of Images">
                                            <div class="top-image" *ngIf="image.event_id && image.event_id == event.id" [ngStyle]="{'background-image': 'url(' + image.base64 + ')'}"></div>
                                            <p *ngIf="!image.event_id && image.event_id == event.id">{{image.id}} + ' = '+{{event.image_id}}</p>
                                        </ng-container>
                                        <div class="bott-descr-day">
                                            <p class="f">{{event.name}}</p>
                                            <p class="s" *ngIf='event.event_time'>{{event.event_time}}</p>
                                            <p class="where-2" *ngIf='event.address'>{{event.address}}</p>
                                        </div>
                                    </div>
                                </ng-container>
                            </ng-container>
                        </div>
                        <!--/event pupup-->

                        <div class="prices">
                            <!--"changed-price-morning" добавляем класс блоку "morning" если была изменина цена утра-->
                            <p class="morning"
                                *ngIf="allDaysPriceDay"
                                [ngClass]="
                                {
                                    'changed-price-morning': day.dayPrice
                                }
                                "
                            >
                                <span>{{ day.dayPrice? day.dayPrice : allDaysPriceDay}}$</span>
                               
                            </p>
                            <!--"changed-price-night" добавляем класс блоку "night" если была изменина цена ночи-->
                            <p class="night"
                                *ngIf="allDaysPriceNight"
                                [ngClass]="
                                {
                                    'changed-price-night': day.nightPrice
                                }
                                "
                            >
                                <span>{{ day.nightPrice? day.nightPrice : allDaysPriceNight}}$</span>
                            </p>
                        </div>

                    </div>

                </ng-container>
            </ng-container>
            
            

            <!--попап с ценой на определенные даты-->
            
            <div class="black-bg-dates" (click)="CloseModalPrice($event)"></div>

            <div class="popup-set-price-wr">
                <form class="popup-set-price">
                    <div class="flex-mac-checkbox">
                        <p>Availability</p>
                        <div class="yes-no">
                            <span>Yes</span>
                            <div class="mac-checkbox">
                                <input class="checkbox" checked="" type="checkbox" id="opt-calendar-1">
                                <label for="opt-calendar-1"></label>
                            </div>
                            <span>No</span>
                        </div>
                    </div>
                    <div class="flex-mac-checkbox">
                        <p>Date Range</p>
                        <div class="yes-no">
                            <span>Yes</span>
                            <div class="mac-checkbox">
                                <input class="checkbox" checked="" type="checkbox" id="opt-calendar-2">
                                <label for="opt-calendar-2"></label>
                            </div>
                            <span>No</span>
                        </div>
                    </div>
                    <div class="flex-select-range">
                        <p>From</p>
                        <div class="input-groupe-1">
                            <!-- <select>
                                <option>1</option>
                                <option>11</option>
                            </select> -->
                            <mat-form-field >
                                <mat-select>
                                    <mat-option [value]="1">1</mat-option>
                                    <mat-option [value]="11">11</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="input-groupe-1">
                            <!-- <select>
                                <option>Sep</option>
                                <option>Nov</option>
                            </select> -->
                            <mat-form-field >
                                <mat-select >
                                    <mat-option value="sep">Sep</mat-option>
                                    <mat-option value="nov">Nov</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="input-groupe-1">
                            <!-- <select>
                                <option>2018</option>
                                <option>2019</option>
                            </select> -->
                            <mat-form-field >
                                <mat-select >
                                    <mat-option [value]="2018">2018</mat-option>
                                    <mat-option [value]="2019">2019</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="flex-select-range">
                        <p>To</p>
                        <div class="input-groupe-1">
                            <!-- <select>
                                <option>1</option>
                                <option>11</option>
                            </select> -->
                            <mat-form-field >
                                <mat-select>
                                    <mat-option [value]="1">1</mat-option>
                                    <mat-option [value]="11">11</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="input-groupe-1">
                            <!-- <select>
                                <option>Sep</option>
                                <option>Nov</option>
                            </select> -->
                            <mat-form-field >
                                <mat-select >
                                    <mat-option value="sep">Sep</mat-option>
                                    <mat-option value="nov">Nov</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="input-groupe-1">
                            <!-- <select>
                                <option>2018</option>
                                <option>2019</option>
                            </select> -->
                            <mat-form-field >
                                <mat-select >
                                    <mat-option [value]="2018">2018</mat-option>
                                    <mat-option [value]="2019">2019</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="flex-price-inp">
                        <p class="d-inp inp-desc">Day</p>
                        <input type="text">
                        <span>/hr</span>
                    </div>
                    <div class="flex-price-inp">
                        <p class="n-inp inp-desc">Night</p>
                        <input type="text">
                        <span>/hr</span>
                    </div>
                    <div class="buttons-pop">
                        <span class="resend-reg" (click)="CloseModalPrice($event)">Cancel</span>
                        <div class="continue-wr">
                            <button class="butt-style-1" type="submit"><span>OK</span></button>
                        </div>
                    </div>
                </form>
            </div> 
             <!--/попап с ценой на определенные даты-->
            
        </div>
    </div>
</div>

